<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" ng-app="app">

	<head>
		<meta charset="utf-8" />
		<title page-title>CRUD Angular - Spring Boot</title>

		<script src="src/lib/angularjs/1.6.4/angular.min.js"></script>
		<script src="src/lib/jquery/2.2.4/jquery.min.js"></script>
		<script src="src/lib/bootstrap/3.3.7/js/bootstrap.min.js"></script>

		<script src="src/app/app.js"></script>
		<script src="src/app/service/personsService.js"></script>
		<script src="src/app/controller/personsController.js"></script>

		<link rel="stylesheet" type="text/css" href="src/lib/bootstrap/3.3.7/css/bootstrap.min.css">

	</head>
	
	<body>
        <div class="container">
		
        <div ng-controller="PersonsCtrl">
			
            <h1 style="text-align: center;">CRUD AngularJS - Spring Boot</h1>

            <div class="alert alert-success" ng-if="message">
                <strong>Success!</strong> {{message}}
            </div>
            <div class="alert alert-danger" ng-if="errorMessage">
                <strong>Error!</strong> {{errorMessage}}
            </div>
                
            <form>
                <div class="row">
                    <div></div>
                
                    <div class="col-md-4 col-md-offset-4">
                    <div class="form-group">
                    <label for="firstName">First Name</label>
                    <input type="text" class="form-control" id="firstName" ng-model="person.firstName" placeholder="Enter your first name" />
                    <label for="lastName">Last Name</label>
                    <input type="text" class="form-control" id="lastName" ng-model="person.lastName" placeholder="Enter your last name" />
                    </div>
                    <button type="button" ng-click="start()" class="btn btn-secondary">Clear</button>
                    <button ng-if="!person._links.person.href" type="button" ng-click="addPerson()" class="btn btn-primary">Save</button>
                    <button ng-if="person._links.person.href" type="button" ng-click="updatePerson()" class="btn btn-primary">Update</button>
                    </div>
                </div>
            </form>
            
			<br /> <br /> 

            <div class="row">
            <div class="col-md-10 col-md-offset-1">
            <div class="table-responsive">
            <table class="table table-hover table-bordered table-striped">
                <thead>
                    <tr>
                        <th class="col-md-4">First Name</th>
                        <th class="col-md-4">Last Name</th>
                        <th class="col-md-3" style="text-align: center;">Actions</th>
                    </tr>
                </thead>
                <tbody>
                    <tr ng-repeat="person in persons">
                        <td>{{ person.firstName }}</td>
                        <td>{{ person.lastName }}</td>
                        <td  style="text-align: center;">
                            <a class="btn btn-primary" ng-click="prepareUpdatePerson(person)"><span class="glyphicon glyphicon-pencil"></span> Update</a>
                            <a class="btn btn-danger" ng-click="deletePerson(person)"><span class="glyphicon glyphicon-trash"></span> Delete</a>
                        </td>
                    </tr>
                    <tr ng-if="!persons.length > 0">
                        <td colspan="3">There is no Persons.</td>
                    </tr>
                </tbody>
            </table>
            </div>
            </div>
            </div>
			
		</div>

        </div>

	</body>
</html>